# Отчёт по заданию: тестирование входа в систему

## 1. Объект тестирования
В рамках задания тестируется функциональность **входа в систему (логин)**.

Для задания реализовано демо-веб-приложение "маркетплейс" (Flask) внутри проекта.
Приложение поднимается автоматически при запуске тестов (локальный сервер на `127.0.0.1` и случайном порту).

Тестовые учётные данные демо-приложения:
- Email: `user@example.com`
- Пароль: `Password123!`

## 2. Цели тестирования
- Проверить, что пользователь может успешно выполнить вход с валидными данными.
- Проверить обработку ошибок при невалидных данных.
- Проверить корректность сообщений об ошибке/успехе.
- Проверить корректность выхода из системы после успешного входа.

## 3. Тестовые сценарии
- **TC-01 Успешный вход**
  - Дано: открыта страница логина
  - Когда: введены валидные логин/пароль и нажата кнопка входа
  - Тогда: пользователь попадает на страницу профиля и видит свой email

- **TC-02 Неверный пароль**
  - Дано: открыта страница логина
  - Когда: введён валидный логин и неверный пароль
  - Тогда: вход не выполняется, отображается сообщение `Неверный email или пароль`

- **TC-03 Неверный логин**
  - Дано: открыта страница логина
  - Когда: введён неверный логин и валидный пароль
  - Тогда: вход не выполняется, отображается сообщение `Неверный email или пароль`

- **TC-04 Пустые поля логина и пароля**
  - Дано: открыта страница логина
  - Когда: поля оставлены пустыми и нажата кнопка входа
  - Тогда: вход не выполняется, отображается сообщение `Поля email и пароль обязательны`

- **TC-05 Выход из системы**
  - Дано: выполнен успешный вход
  - Когда: нажата кнопка выхода
  - Тогда: пользователь возвращается на страницу логина, отображается сообщение `Вы вышли из системы`

## 4. Автоматизация
Инструменты:
- `pytest`
- `selenium`

Подход:
- Использован паттерн **Page Object** (`core/pages/*`)
- Поддержка параметра `--base-url` для запуска тестов на другом стенде
- По умолчанию используется локальный демо-сервер (поднимается фикстурой `demo_server`)

## 5. Результаты
Автотесты реализованы в файле `tests/test_login.py`.

Ожидаемый результат прогона: все тесты проходят успешно при наличии браузера/драйвера.

Команда запуска:
```bash
pytest
```

Рекомендуемый запуск (быстрее и стабильнее):
```bash
pytest --headless
```

При необходимости можно указать браузер:
```bash
pytest --browser chrome
pytest --browser firefox
pytest --browser edge
```

И базовый URL (если сервер запускается отдельно вручную):
```bash
pytest --base-url http://localhost:8080
```
